(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-com-dragList-index"],{"3ffa":function(t,e,n){var i=n("24fb");e=i(!0),e.push([t.i,'@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.drag-list[data-v-3e9e6311]{width:100%}.drag-list-item[data-v-3e9e6311]{position:absolute!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;padding:0;margin:0;background:#fff;padding:0 4vw;-webkit-box-sizing:border-box;box-sizing:border-box;height:13.33333vw}.drag-list-item .item[data-v-3e9e6311]{-webkit-box-flex:1;-ms-flex:1;flex:1}.drag-list-item .touch-tight[data-v-3e9e6311]{width:6.4vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.touch[data-v-3e9e6311]{height:100%;width:13.33333vw}.drag-icon[data-v-3e9e6311]{display:inline-block;width:6.4vw;height:3.2vw;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAAEtJREFUWAnt1cEJACAMA0B1/506moIr5FEK51+Jl0d2Vd01+JzB2X90H5jeoPwECBDIBLYlzgDj25Y4JvQAAQIERgtY4u76LHF3Aw8rGQnK3sYAXQAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:100% auto}.active[data-v-3e9e6311]{-webkit-box-shadow:0 0 5.33333vw #ddd;box-shadow:0 0 5.33333vw #ddd;z-index:99}',"",{version:3,sources:["index.vue"],names:[],mappings:"AAAA,gBAAgB;AAChB,mBAAmB;AACnB;;EAEE;AACF;;EAEE;AACF;;;;;;;CAOC;AACD;;;;;;;CAOC;AACD;;CAEC;AACD;;;;CAIC;AACD;;;;;;;;;CASC;AACD,WAAW;AACX;;GAEG;AACH;;;EAGE;AACF;;;;;;EAME;AACF;;;;EAIE;AACF,SAAS;AACT,WAAW;AACX,WAAW;AACX,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,kBAAkB;AAClB,SAAS;AACT,SAAS;AACT,QAAQ;AACR,WAAW,CAAC,4BAA4B,UAAU,CAAC,iCAAiC,2BAA2B,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,YAAY,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,aAAa,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,uCAAuC,kBAAkB,CAAC,UAAU,CAAC,MAAM,CAAC,8CAA8C,WAAW,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,YAAY,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,wBAAwB,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,oBAAoB,CAAC,WAAW,CAAC,YAAY,CAAC,wPAAwP,CAAC,yBAAyB,CAAC,yBAAyB,qCAAqC,CAAC,6BAA6B,CAAC,UAAU",file:"index.vue",sourcesContent:['@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.drag-list[data-v-3e9e6311]{width:100%}.drag-list-item[data-v-3e9e6311]{position:absolute!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;padding:0;margin:0;background:#fff;padding:0 4vw;-webkit-box-sizing:border-box;box-sizing:border-box;height:13.33333vw}.drag-list-item .item[data-v-3e9e6311]{-webkit-box-flex:1;-ms-flex:1;flex:1}.drag-list-item .touch-tight[data-v-3e9e6311]{width:6.4vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.touch[data-v-3e9e6311]{height:100%;width:13.33333vw}.drag-icon[data-v-3e9e6311]{display:inline-block;width:6.4vw;height:3.2vw;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAAEtJREFUWAnt1cEJACAMA0B1/506moIr5FEK51+Jl0d2Vd01+JzB2X90H5jeoPwECBDIBLYlzgDj25Y4JvQAAQIERgtY4u76LHF3Aw8rGQnK3sYAXQAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:100% auto}.active[data-v-3e9e6311]{-webkit-box-shadow:0 0 5.33333vw #ddd;box-shadow:0 0 5.33333vw #ddd;z-index:99}']}]),t.exports=e},"55cf":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,i,r,a,s){try{var o=t[a](s),c=o.value}catch(A){return void n(A)}o.done?e(c):Promise.resolve(c).then(i,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function o(t){a(s,i,r,o,c,"next",t)}function c(t){a(s,i,r,o,c,"throw",t)}o(void 0)}))}}var o={props:{},components:{},onLoad:function(t){},onShow:function(){},onReady:function(){this.init()},onUnload:function(){},onShareAppMessage:function(t){},onPullDownRefresh:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.stopPullDownRefresh();case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onReachBottom:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),computed:{},data:function(){return{dragListC:{id:"dragList0",listKey:"name"},list:[{name:"a"},{name:"b"},{name:"c"},{name:"d"},{name:"e"},{name:"f"},{name:"g"},{name:"h"},{name:"i"},{name:"j"},{name:"k"},{name:"l"},{name:"m"},{name:"n"},{name:"o"},{name:"p"},{name:"q"},{name:"r"},{name:"s"},{name:"t"}],temList:[]}},methods:{onDragSortChange:function(t){this.temList=t},submit:function(){var t=[];this.temList.map((function(e,n){t[e.index]=e})),console.log("更新后数据为：",t)},init:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("init");case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}};e.default=o},6698:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={ljDragList:n("e334").default},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"drag page flex-column"},[n("div",{staticClass:"flex1 of-a"},[n("lj-drag-list",{attrs:{list:t.list,c:t.dragListC},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onDragSortChange.apply(void 0,arguments)}}})],1),n("div",{staticClass:"flex0 flex-row-around bg-w"},[n("v-uni-button",{staticClass:"flex1"},[t._v("取消")]),n("v-uni-button",{staticClass:"flex1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit()}}},[t._v("确定")])],1)])},a=[]},"8bab":function(t,e,n){var i=n("3ffa");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n("4f06").default;r("60faaf98",i,!0,{sourceMap:!0,shadowMode:!1})},9539:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-movable-area",{staticClass:"drag-list",style:{height:t.currentListLength+"px"},attrs:{id:t.c.id}},[n("v-uni-view",{staticClass:"drag-list-item hide-v",attrs:{id:"dlItem"}}),t._l(t.currentList,(function(e,i){return n("v-uni-movable-view",{key:i,staticClass:"drag-list-item",class:{active:t.active===i,"t-1px":e.index>0},attrs:{x:0,y:e.y,direction:"vertical",disabled:!0,damping:"20",animation:t.active!==i,id:"item-"+i}},[n("v-uni-view",{staticClass:"item"},[t._v(t._s(e[t.c.listKey]))]),n("v-uni-view",{staticClass:"touch-tight"},[n("v-uni-view",{staticClass:"drag-icon"})],1)],1)})),n("v-uni-movable-view",{staticClass:"touch",attrs:{x:750},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchstart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchmove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchend.apply(void 0,arguments)}}})],2)},a=[]},aae6:function(t,e,n){"use strict";n.r(e);var i=n("b5c2"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},b5c2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,i,r,a,s){try{var o=t[a](s),c=o.value}catch(A){return void n(A)}o.done?e(c):Promise.resolve(c).then(i,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function o(t){a(s,i,r,o,c,"next",t)}function c(t){a(s,i,r,o,c,"throw",t)}o(void 0)}))}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={name:"DragList",mixins:[],components:{},data:function(){return{itemHeight:null,currentList:[],active:-1,itemIndex:0,topY:0,deviationY:0}},computed:{currentListLength:function(){return console.error(this.currentList.length*this.itemHeight),this.currentList.length*this.itemHeight}},props:{list:{type:Array,default:function(){return[]}},c:{type:Object,default:function(){return{listKey:"name"}}}},watch:{list:function(t){this.onUpdateCurrentList()}},created:function(){},mounted:function(){this.init()},updated:function(){},filters:{},methods:{onUpdateCurrentList:function(){var t=this,e=[];this.list.map((function(n,i){e.push(c(c({},n),{},{index:i,y:i*t.itemHeight}))})),this.currentList=e},touchstart:function(t){var e=this,n=uni.createSelectorQuery().in(this);n.select("#"+this.c.id).boundingClientRect(),n.exec((function(n){e.topY=n[0].top;var i=t.mp.touches[0].clientY-n[0].top;for(var r in e.deviationY=i%e.itemHeight,e.currentList)if(e.currentList[r].index*e.itemHeight<i&&(e.currentList[r].index+1)*e.itemHeight>i){e.active=Number(r),e.itemIndex=e.currentList[r].index;break}}))},touchmove:function(t){if(!(this.active<0)){var e=t.mp.touches[0].clientY-this.topY-this.deviationY;for(var n in this.currentList[this.active].y=e,this.currentList)if(this.currentList[n].index!==this.currentList[this.active].index)if(this.currentList[n].index>this.currentList[this.active].index){if(e>this.currentList[n].index*this.itemHeight-this.itemHeight/2){this.currentList[this.active].index=this.currentList[n].index,this.currentList[n].index=this.currentList[n].index-1,this.currentList[n].y=this.currentList[n].index*this.itemHeight;break}}else if(e<this.currentList[n].index*this.itemHeight+this.itemHeight/2){this.currentList[this.active].index=this.currentList[n].index,this.currentList[n].index=this.currentList[n].index+1,this.currentList[n].y=this.currentList[n].index*this.itemHeight;break}}},touchend:function(t){this.itemIndex!==this.currentList[this.active].index&&this.active>-1&&(this.$emit("change",this.currentList),this.$f.safeData(this.c,"changeFn")&&this.$emit("mixinChange",{fn:this.c.changeFn,data:this.currentList})),this.currentList[this.active].y=this.currentList[this.active].index*this.itemHeight,this.active=-1},init:function(){var t=s(i.default.mark((function t(){var e;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GetDom("#dlItem");case 2:e=t.sent,console.error("drag-list init",e),this.itemHeight=e.height,this.onUpdateCurrentList();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}};e.default=u},e045:function(t,e,n){"use strict";n.r(e);var i=n("6698"),r=n("e146");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var s,o=n("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"7bbda583",null,!1,i["a"],s);e["default"]=c.exports},e146:function(t,e,n){"use strict";n.r(e);var i=n("55cf"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},e334:function(t,e,n){"use strict";n.r(e);var i=n("9539"),r=n("aae6");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("f3f6");var s,o=n("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3e9e6311",null,!1,i["a"],s);e["default"]=c.exports},f3f6:function(t,e,n){"use strict";var i=n("8bab"),r=n.n(i);r.a}}]);