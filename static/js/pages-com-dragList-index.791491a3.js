(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-com-dragList-index"],{"3ffa":function(t,n,e){var i=e("24fb");n=i(!0),n.push([t.i,'@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/* *\n* border 1px\n* */\n/* *\n* 准备弃用 目前components有使用\n* class内设置border 1px,\n* eg: iBorder1px(#ccc,f)\n* */\n/* *\n* class内设置border,\n* eg: iBorder(f,1,solid,#ccc)\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.drag-list[data-v-3e9e6311]{width:100%}.drag-list-item[data-v-3e9e6311]{position:absolute!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;padding:0;margin:0;background:#fff;padding:0 4vw;-webkit-box-sizing:border-box;box-sizing:border-box;height:13.33333vw}.drag-list-item .item[data-v-3e9e6311]{-webkit-box-flex:1;-ms-flex:1;flex:1}.drag-list-item .touch-tight[data-v-3e9e6311]{width:6.4vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.touch[data-v-3e9e6311]{height:100%;width:13.33333vw}.drag-icon[data-v-3e9e6311]{display:inline-block;width:6.4vw;height:3.2vw;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAAEtJREFUWAnt1cEJACAMA0B1/506moIr5FEK51+Jl0d2Vd01+JzB2X90H5jeoPwECBDIBLYlzgDj25Y4JvQAAQIERgtY4u76LHF3Aw8rGQnK3sYAXQAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:100% auto}.active[data-v-3e9e6311]{-webkit-box-shadow:0 0 5.33333vw #ddd;box-shadow:0 0 5.33333vw #ddd;z-index:99}',"",{version:3,sources:["index.vue"],names:[],mappings:"AAAA,gBAAgB;AAChB,mBAAmB;AACnB;;EAEE;AACF;;EAEE;AACF;;;;;;;CAOC;AACD;;;;;;;CAOC;AACD;;CAEC;AACD;;;;CAIC;AACD;;;;;;;;;CASC;AACD,WAAW;AACX;;GAEG;AACH;;GAEG;AACH;;;;GAIG;AACH;;;GAGG;AACH;;;EAGE;AACF;;;;;;EAME;AACF;;;;EAIE;AACF,SAAS;AACT,WAAW;AACX,WAAW;AACX,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,kBAAkB;AAClB,SAAS;AACT,SAAS;AACT,QAAQ;AACR,WAAW,CAAC,4BAA4B,UAAU,CAAC,iCAAiC,2BAA2B,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,YAAY,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,CAAC,aAAa,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,uCAAuC,kBAAkB,CAAC,UAAU,CAAC,MAAM,CAAC,8CAA8C,WAAW,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,YAAY,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,wBAAwB,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,oBAAoB,CAAC,WAAW,CAAC,YAAY,CAAC,wPAAwP,CAAC,yBAAyB,CAAC,yBAAyB,qCAAqC,CAAC,6BAA6B,CAAC,UAAU",file:"index.vue",sourcesContent:['@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/* *\n* border 1px\n* */\n/* *\n* 准备弃用 目前components有使用\n* class内设置border 1px,\n* eg: iBorder1px(#ccc,f)\n* */\n/* *\n* class内设置border,\n* eg: iBorder(f,1,solid,#ccc)\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.drag-list[data-v-3e9e6311]{width:100%}.drag-list-item[data-v-3e9e6311]{position:absolute!important;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;padding:0;margin:0;background:#fff;padding:0 4vw;-webkit-box-sizing:border-box;box-sizing:border-box;height:13.33333vw}.drag-list-item .item[data-v-3e9e6311]{-webkit-box-flex:1;-ms-flex:1;flex:1}.drag-list-item .touch-tight[data-v-3e9e6311]{width:6.4vw;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.touch[data-v-3e9e6311]{height:100%;width:13.33333vw}.drag-icon[data-v-3e9e6311]{display:inline-block;width:6.4vw;height:3.2vw;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAYCAYAAAC8/X7cAAAAAXNSR0IArs4c6QAAAEtJREFUWAnt1cEJACAMA0B1/506moIr5FEK51+Jl0d2Vd01+JzB2X90H5jeoPwECBDIBLYlzgDj25Y4JvQAAQIERgtY4u76LHF3Aw8rGQnK3sYAXQAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:100% auto}.active[data-v-3e9e6311]{-webkit-box-shadow:0 0 5.33333vw #ddd;box-shadow:0 0 5.33333vw #ddd;z-index:99}']}]),t.exports=n},"55cf":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,n,e,i,r,a,s){try{var o=t[a](s),c=o.value}catch(A){return void e(A)}o.done?n(c):Promise.resolve(c).then(i,r)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(i,r){var s=t.apply(n,e);function o(t){a(s,i,r,o,c,"next",t)}function c(t){a(s,i,r,o,c,"throw",t)}o(void 0)}))}}var o={props:{},components:{},onLoad:function(t){},onShow:function(){},onReady:function(){this.init()},onUnload:function(){},onShareAppMessage:function(t){},onPullDownRefresh:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.stopPullDownRefresh();case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),onReachBottom:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),computed:{},data:function(){return{dragListC:{id:"dragList0",listKey:"name"},list:[{name:"a"},{name:"b"},{name:"c"},{name:"d"},{name:"e"},{name:"f"},{name:"g"},{name:"h"},{name:"i"},{name:"j"},{name:"k"},{name:"l"},{name:"m"},{name:"n"},{name:"o"},{name:"p"},{name:"q"},{name:"r"},{name:"s"},{name:"t"}],temList:[]}},methods:{onDragSortChange:function(t){this.temList=t},submit:function(){var t=[];this.temList.map((function(n,e){t[n.index]=n})),console.log("更新后数据为：",t)},init:function(){var t=s(i.default.mark((function t(){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("init");case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}};n.default=o},6698:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={ljDragList:e("e334").default},r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"drag page flex-column"},[e("div",{staticClass:"flex1 of-a"},[e("lj-drag-list",{attrs:{list:t.list,c:t.dragListC},on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.onDragSortChange.apply(void 0,arguments)}}})],1),e("div",{staticClass:"flex0 flex-row-around bg-w"},[e("v-uni-button",{staticClass:"flex1"},[t._v("取消")]),e("v-uni-button",{staticClass:"flex1",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit()}}},[t._v("确定")])],1)])},a=[]},"8bab":function(t,n,e){var i=e("3ffa");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=e("4f06").default;r("87df2a54",i,!0,{sourceMap:!0,shadowMode:!1})},9539:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-movable-area",{staticClass:"drag-list",style:{height:t.currentListLength+"px"},attrs:{id:t.c.id}},[e("v-uni-view",{staticClass:"drag-list-item hide-v",attrs:{id:"dlItem"}}),t._l(t.currentList,(function(n,i){return e("v-uni-movable-view",{key:i,staticClass:"drag-list-item",class:{active:t.active===i,"t-1px":n.index>0},attrs:{x:0,y:n.y,direction:"vertical",disabled:!0,damping:"20",animation:t.active!==i,id:"item-"+i}},[e("v-uni-view",{staticClass:"item"},[t._v(t._s(n[t.c.listKey]))]),e("v-uni-view",{staticClass:"touch-tight"},[e("v-uni-view",{staticClass:"drag-icon"})],1)],1)})),e("v-uni-movable-view",{staticClass:"touch",attrs:{x:750},on:{touchstart:function(n){arguments[0]=n=t.$handleEvent(n),t.touchstart.apply(void 0,arguments)},touchmove:function(n){arguments[0]=n=t.$handleEvent(n),t.touchmove.apply(void 0,arguments)},touchend:function(n){arguments[0]=n=t.$handleEvent(n),t.touchend.apply(void 0,arguments)}}})],2)},a=[]},aae6:function(t,n,e){"use strict";e.r(n);var i=e("b5c2"),r=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=r.a},b5c2:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,n,e,i,r,a,s){try{var o=t[a](s),c=o.value}catch(A){return void e(A)}o.done?n(c):Promise.resolve(c).then(i,r)}function s(t){return function(){var n=this,e=arguments;return new Promise((function(i,r){var s=t.apply(n,e);function o(t){a(s,i,r,o,c,"next",t)}function c(t){a(s,i,r,o,c,"throw",t)}o(void 0)}))}}function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){A(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function A(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var u={name:"DragList",mixins:[],components:{},data:function(){return{itemHeight:null,currentList:[],active:-1,itemIndex:0,topY:0,deviationY:0}},computed:{currentListLength:function(){return console.error(this.currentList.length*this.itemHeight),this.currentList.length*this.itemHeight}},props:{list:{type:Array,default:function(){return[]}},c:{type:Object,default:function(){return{listKey:"name"}}}},watch:{list:function(t){this.onUpdateCurrentList()}},created:function(){},mounted:function(){this.init()},updated:function(){},filters:{},methods:{onUpdateCurrentList:function(){var t=this,n=[];this.list.map((function(e,i){n.push(c(c({},e),{},{index:i,y:i*t.itemHeight}))})),this.currentList=n},touchstart:function(t){var n=this,e=uni.createSelectorQuery().in(this);e.select("#"+this.c.id).boundingClientRect(),e.exec((function(e){n.topY=e[0].top;var i=t.mp.touches[0].clientY-e[0].top;for(var r in n.deviationY=i%n.itemHeight,n.currentList)if(n.currentList[r].index*n.itemHeight<i&&(n.currentList[r].index+1)*n.itemHeight>i){n.active=Number(r),n.itemIndex=n.currentList[r].index;break}}))},touchmove:function(t){if(!(this.active<0)){var n=t.mp.touches[0].clientY-this.topY-this.deviationY;for(var e in this.currentList[this.active].y=n,this.currentList)if(this.currentList[e].index!==this.currentList[this.active].index)if(this.currentList[e].index>this.currentList[this.active].index){if(n>this.currentList[e].index*this.itemHeight-this.itemHeight/2){this.currentList[this.active].index=this.currentList[e].index,this.currentList[e].index=this.currentList[e].index-1,this.currentList[e].y=this.currentList[e].index*this.itemHeight;break}}else if(n<this.currentList[e].index*this.itemHeight+this.itemHeight/2){this.currentList[this.active].index=this.currentList[e].index,this.currentList[e].index=this.currentList[e].index+1,this.currentList[e].y=this.currentList[e].index*this.itemHeight;break}}},touchend:function(t){this.itemIndex!==this.currentList[this.active].index&&this.active>-1&&(this.$emit("change",this.currentList),this.$f.safeData(this.c,"changeFn")&&this.$emit("mixinChange",{fn:this.c.changeFn,data:this.currentList})),this.currentList[this.active].y=this.currentList[this.active].index*this.itemHeight,this.active=-1},init:function(){var t=s(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GetDom("#dlItem");case 2:n=t.sent,console.error("drag-list init",n),this.itemHeight=n.height,this.onUpdateCurrentList();case 6:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()}};n.default=u},e045:function(t,n,e){"use strict";e.r(n);var i=e("6698"),r=e("e146");for(var a in r)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(a);var s,o=e("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"7bbda583",null,!1,i["a"],s);n["default"]=c.exports},e146:function(t,n,e){"use strict";e.r(n);var i=e("55cf"),r=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=r.a},e334:function(t,n,e){"use strict";e.r(n);var i=e("9539"),r=e("aae6");for(var a in r)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(a);e("f3f6");var s,o=e("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3e9e6311",null,!1,i["a"],s);n["default"]=c.exports},f3f6:function(t,n,e){"use strict";var i=e("8bab"),r=e.n(i);r.a}}]);