(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-com-posterWx-index"],{"092f":function(t,n,e){"use strict";var r;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return r}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pd-lr16 pd-t16"},[t.showCanvas?e("v-uni-canvas",{staticClass:"canvas-poster",attrs:{"canvas-id":"poster",id:"poster"}}):t._e(),e("div",{staticClass:"poster"},[t.posterImg?e("v-uni-image",{staticClass:"poster",attrs:{"show-menu-by-longpress":!0,mode:"aspectFill",src:t.posterImg},on:{error:function(n){arguments[0]=n=t.$handleEvent(n),t.imgError.apply(void 0,arguments)}}}):t._e()],1),e("div",{staticClass:"fs-12 c-font ta-c mg-t10"},[t._v("长按保存图片分享给好友")])],1)},i=[]},"2ddf":function(t,n,e){var r=e("24fb");n=r(!0),n.push([t.i,'@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/* *\n* border 1px\n* */\n/* *\n* 准备弃用 目前components有使用\n* class内设置border 1px,\n* eg: iBorder1px(#ccc,f)\n* */\n/* *\n* class内设置border,\n* eg: iBorder(f,1,solid,#ccc)\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.canvas-poster[data-v-030fc665]{position:absolute;left:-100%;width:92vw;height:135.86667vw;letter-spacing:1.06667vw}.poster[data-v-030fc665]{width:92vw;height:135.86667vw;letter-spacing:.53333vw}',"",{version:3,sources:["index.vue"],names:[],mappings:"AAAA,gBAAgB;AAChB,mBAAmB;AACnB;;EAEE;AACF;;EAEE;AACF;;;;;;;CAOC;AACD;;;;;;;CAOC;AACD;;CAEC;AACD;;;;CAIC;AACD;;;;;;;;;CASC;AACD,WAAW;AACX;;GAEG;AACH;;GAEG;AACH;;;;GAIG;AACH;;;GAGG;AACH;;;EAGE;AACF;;;;;;EAME;AACF;;;;EAIE;AACF,SAAS;AACT,WAAW;AACX,WAAW;AACX,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,SAAS;AACT,kBAAkB;AAClB,SAAS;AACT,SAAS;AACT,QAAQ;AACR,WAAW,CAAC,gCAAgC,iBAAiB,CAAC,UAAU,CAAC,UAAU,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,yBAAyB,UAAU,CAAC,kBAAkB,CAAC,uBAAuB",file:"index.vue",sourcesContent:['@charset "UTF-8";\n/* 全局变量 add by lj */\n/**\n* 设置n行，超出显示...\n**/\n/**\n* 旋转角度\n**/\n/**\n* [oFsSet 设置12到40px 的字体大小相隔2pxeg:fs-12]\n* @param  {[type]} $l:14    [长度]\n* @param  {[type]} $mul:2   [间隔]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:12    [最小字体大小]\n* @return {[type]}          [description]\n*/\n/**\n* [oPdMgSet 默认设置5到60的各个padding margin]\n* @param  {[type]} $max:12   [循环次数，从0开始]\n* @param  {[type]} $mul:5  [倍数]\n* @param  {[type]} $unit:px [单位]\n* @param  {[type]} $d:px [基数]\n* @return {[type]}          [description]\n*/\n/**\n* [默认btn样式]\n*/\n/**\n* [iCB clear both清除浮动]\n* @param  {[type]} $old:false [true为生成兼容低版本的浏览器]\n* @return {[type]}            [description]\n*/\n/**\n* [iBtnBgColor 设置btn背景加hover,active时变亮变暗]\n* @param  {[type]} $color:gray     [初始颜色]\n* @param  {[type]} $type:1         [=0使用传入的颜色，>1变亮，<1变暗]\n* @param  {[type]} $hover:2        [hover颜色或百分比]\n* @param  {[type]} $active:10      [active颜色或百分比]\n* @param  {[type]} $time:1         [动画时间 eg:0.3s]\n* @param  {[type]} $animation:1    [动画属性 eg: ease]\n* @return {[type]}             [description]\n*/\n/* <flex> */\n/* *\n* 移动端1px处理\n* */\n/* *\n* border 1px\n* */\n/* *\n* 准备弃用 目前components有使用\n* class内设置border 1px,\n* eg: iBorder1px(#ccc,f)\n* */\n/* *\n* class内设置border,\n* eg: iBorder(f,1,solid,#ccc)\n* */\n/**\nicon背景\neg: @include iIcon(close,16)\n**/\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.canvas-poster[data-v-030fc665]{position:absolute;left:-100%;width:92vw;height:135.86667vw;letter-spacing:1.06667vw}.poster[data-v-030fc665]{width:92vw;height:135.86667vw;letter-spacing:.53333vw}']}]),t.exports=n},3931:function(t,n,e){t.exports=e.p+"static/img/wepay.45c0dff4.png"},"3b96":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("a34a")),a=e("71b2"),i=e("bebc");function o(t){return t&&t.__esModule?t:{default:t}}function s(t,n,e,r,a,i,o){try{var s=t[i](o),c=s.value}catch(u){return void e(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){s(i,r,a,o,c,"next",t)}function c(t){s(i,r,a,o,c,"throw",t)}o(void 0)}))}}function u(t){return f(t)||d(t)||l(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,n){if(t){if("string"===typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,n):void 0}}function d(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function f(t){if(Array.isArray(t))return h(t)}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function A(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function v(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,n,e){return n&&v(t.prototype,n),e&&v(t,e),t}function g(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var y=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:375,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;A(this,t),g(this,"scale",4),g(this,"ctx",0),g(this,"width",300),g(this,"height",300),g(this,"basicWidth",375),this.ctx=n,this.width=e,this.scale=a,a&&(this.basicWidth=r/a,this.ctx.scale(1/a,1/a))}return m(t,[{key:"getScale",value:function(t){var n=t/this.basicWidth*this.width;return Math.round(n)||0}},{key:"fillText",value:function(t,n,e,r,a){return n&&this.getScale(n),a||(this.ctx.save(),r?this.ctx.fillText(t,this.getScale(n),this.getScale(e),this.getScale(r)):this.ctx.fillText(t,this.getScale(n),this.getScale(e)),this.ctx.restore()),this}},{key:"drawImage",value:function(){for(var t=this,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];if(e=e.map((function(n){return"number"===typeof n&&(n=t.getScale(n)),n})),this.ctx.save(),"circle"===e[4]){var a;this.ctx.beginPath();var i=e[3]/2,o=e[1]+i,s=e[2]+i;this.ctx.arc(o,s,i,0,2*Math.PI),this.ctx.closePath(),this.ctx.clip(),e[4]=e[3],(a=this.ctx).drawImage.apply(a,u(e))}else if("circleColor"===e[4]){this.ctx.beginPath();var c=e[3]/2,p=e[1]+c,l=e[2]+c;this.ctx.arc(p,l,c,0,2*Math.PI),this.ctx.closePath(),this.ctx.clip(),this.ctx.setFillStyle(e[0]),this.ctx.fill()}else{var d;(d=this.ctx).drawImage.apply(d,u(e))}return this.ctx.restore(),this}},{key:"draw",value:function(){var t=c(r.default.mark((function t(n,e,i,o){var s=this;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,u){s.ctx.draw(!0,c(r.default.mark((function c(){var u;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return",t());case 2:return r.next=4,(0,a.sleep)(1e3);case 4:return r.next=6,s.creatPoster(e,i,o);case 6:return u=r.sent,r.abrupt("return",t(u));case 8:case"end":return r.stop()}}),c)}))))})));case 1:case"end":return t.stop()}}),t)})));function n(n,e,r,a){return t.apply(this,arguments)}return n}()},{key:"creatPoster",value:function(){var t=c(r.default.mark((function t(n,e){var a,o,s,c=arguments;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:"jpg",t.next=3,(0,i.P)("canvasToTempFilePath",{x:0,y:0,width:this.getScale(n),height:this.getScale(e),destWidth:4*this.getScale(n),destHeight:4*this.getScale(e),canvasId:this.ctx.canvasId,quality:1,fileType:a}).catch((function(t){o=t}));case 3:if(s=t.sent,!o){t.next=6;break}return t.abrupt("return",Promise.reject(o));case 6:return t.abrupt("return",s.tempFilePath);case 7:case"end":return t.stop()}}),t,this)})));function n(n,e){return t.apply(this,arguments)}return n}()}]),t}(),w=y;n.default=w},"3d5e":function(t,n,e){t.exports=e.p+"static/img/code.ceba7e2c.jpg"},"503a":function(t,n,e){"use strict";e.r(n);var r=e("092f"),a=e("dacb");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("b8a3");var o,s=e("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"030fc665",null,!1,r["a"],o);n["default"]=c.exports},"6cfd":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("a34a")),a=e("bebc"),i=e("71b2"),o=s(e("3b96"));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,n,e,r,a,i,o){try{var s=t[i](o),c=s.value}catch(u){return void e(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var i=t.apply(n,e);function o(t){c(i,r,a,o,s,"next",t)}function s(t){c(i,r,a,o,s,"throw",t)}o(void 0)}))}}var p={props:{},components:{},onLoad:function(t){},onShow:function(){},onReady:function(){},onUnload:function(){},onPullDownRefresh:function(){var t=u(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.stopPullDownRefresh();case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),onReachBottom:function(){var t=u(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),computed:{},data:function(){return{img:{posterBg:e("b888"),logo:e("3931"),code:e("3d5e")},showCanvas:!1,imgList:[],posterImg:""}},methods:{imgError:function(t){console.error("imgError",t)},drawPoster:function(){var t=u(r.default.mark((function t(){var n,e,s,c;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showCanvas=!0,t.next=3,(0,i.sleep)(100);case 3:return(0,a.showLoading)(),n={width:345,height:509.5},e=uni.createCanvasContext("poster"),s=(0,a.getSystemInfo)(),c=new o.default(e,s.windowWidth),c.drawImage(this.img.posterBg,0,0,n.width,n.height),c.drawImage(this.img.posterBg,268,61,35,"circle"),c.drawImage(this.img.logo,10,450,50,"circle"),c.drawImage(this.img.code,285,450,50,"circle"),console.error("context",e),e.setFillStyle("#FDE3A3"),e.font=c.getScale(13)+"px sans-serif",c.fillText("欣然科技",70,469),e.font=c.getScale(10)+"px sans-serif",c.fillText("快来扫码给好友送祝福吧！",70,489),t.next=20,c.draw(1).catch((function(t){return console.error(t)}));case 20:this.posterImg=t.sent,console.error("su:",this.posterImg),(0,a.hideLoading)();case 23:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),init:function(){var t=u(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.drawPoster();case 1:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()}};n.default=p},b888:function(t,n,e){t.exports=e.p+"static/img/poster-bg.4e5ab1e1.jpg"},b8a3:function(t,n,e){"use strict";var r=e("c0a1"),a=e.n(r);a.a},c0a1:function(t,n,e){var r=e("2ddf");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=e("4f06").default;a("591cadf1",r,!0,{sourceMap:!0,shadowMode:!1})},dacb:function(t,n,e){"use strict";e.r(n);var r=e("6cfd"),a=e.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return r[t]}))}(i);n["default"]=a.a}}]);